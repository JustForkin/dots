# chmod 600 .msmtprc

# default settings for all accounts
defaults
from jing.liu@usd.edu
auth on

account usdmail
host exchange.usd.edu
# must specify port to connect to usdmail
port 587
# must specify tls on to connect to usdmail
tls on
# must specify user to use auth
user jing.liu
# set tls_trust_file to trust every server
# check http://www.scottro.net/qnd/qnd-gmail.html for detail.
# in debian, apt-get install ca-certificates
# tls_trust_file /etc/ssl/certs/ca-certificates.crt
# in cygwin
# tls_trust_file /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
# or
# set tls_fingerprint to trust individual server
# use the following command to get the fingerprint in SHA1 format
# msmtp --host=smtp.gmail.com --tls --tls-certcheck=off --serverinfo
# --host: specify host, or -a: specify account
# --tls: turn tls on, --tls-certcheck=off: accept any certificate
# comment out any line with tls_trust_file or tls_fingerprint
# these options won't work together with --tls-certcheck=off
tls_fingerprint 7E:00:09:78:5B:B3:06:12:3B:8D:38:E7:D1:B9:47:91:7C:48:C0:53

account gmail
host smtp.gmail.com
user jing.leon
tls on
tls_fingerprint F4:22:FA:9E:C6:B2:1D:9F:FB:54:0F:69:C6:76:BC:A1:D1:49:8B:BD

# get password from ~/.netrc:
# machine exchmail.usd.edu login jing.liu password ******* 
# machine smtp.gmail.com login jing.leon password ******* 
# chmod 600 ~/.netrc

account default: gmail
