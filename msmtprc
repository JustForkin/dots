# chmod 600 .msmtprc

# default settings for all accounts
defaults
from jing.liu@usd.edu
auth on

account usdmail
host exchange.usd.edu
# must specify port to connect to usdmail
port 587
# must specify tls on to connect to usdmail
tls on
# must specify user to use auth
user jing.liu
# set tls_trust_file to trust every server
# check http://www.scottro.net/qnd/qnd-gmail.html for detail.
# in debian, apt-get install ca-certificates
# tls_trust_file /etc/ssl/certs/ca-certificates.crt
# in cygwin
# tls_trust_file /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
# or
# set tls_fingerprint to trust individual server
# use the following command to get the fingerprint in SHA1 format
# msmtp --host=smtp.gmail.com --tls --tls-certcheck=off --serverinfo
# --host: specify host, or -a: specify account
# --tls: turn tls on, --tls-certcheck=off: accept any certificate
# comment out any line with tls_trust_file or tls_fingerprint
# these options won't work together with --tls-certcheck=off
tls_fingerprint CE:C3:8A:09:EB:25:9C:7B:DD:16:37:1E:7A:23:1B:D0:0F:E0:09:C8

account gmail
host smtp.gmail.com
user jing.leon
tls on
tls_fingerprint 1F:7F:69:DE:79:BA:41:A1:BB:32:39:1B:6A:54:E7:AE:43:5E:54:0E

# get password from ~/.netrc:
# machine exchmail.usd.edu login jing.liu password ******* 
# machine smtp.gmail.com login jing.leon password ******* 
# chmod 600 ~/.netrc

account default: gmail
