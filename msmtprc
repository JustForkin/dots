# chmod 600 .msmtprc

# default settings for all accounts
defaults
from jing.liu@usd.edu
auth on
tls on
# set tls_trust_file to trust every server
# check http://www.scottro.net/qnd/qnd-gmail.html for detail.
# in debian, apt-get install ca-certificates
# tls_trust_file /etc/ssl/certs/ca-certificates.crt
# in cygwin
# tls_trust_file /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
# or
# set tls_fingerprint to trust individual server
# use the following command to get the fingerprint in SHA1 format
# msmtp --host=smtp.gmail.com --tls --tls-certcheck=off --serverinfo
# --host: specify host, or -a: specify account
# --tls: turn tls on, --tls-certcheck=off: accept any certificate
# comment out any line with tls_trust_file or tls_fingerprint
# these options won't work together with --tls-certcheck=off

# must specify port to connect to usdmail
# must specify user to use auth
account usdmail
host exchmail.usd.edu
port 587
user jing.liu
tls_fingerprint 33:18:AE:2C:1E:EE:F8:F8:3A:01:95:F7:E9:DF:CB:1F:B8:7F:20:B7

account gmail
host smtp.gmail.com
user jing.leon
tls_fingerprint 32:66:E9:CC:35:EF:A3:FD:1B:97:D2:DE:CB:06:83:35:34:5A:52:9E

# get password from ~/.netrc:
# machine exchmail.usd.edu login jing.liu password ******* 
# machine smtp.gmail.com login jing.leon password ******* 
# chmod 600 ~/.netrc

account default: usdmail
