" vim: filetype=vim :

" :mark mark /full/directory/path [filename]
mark 8 ~/github/diary/2018/ 01
mark a ~/Dropbox/app/ associate/
mark b ~/bin/
mark c ~/rdlab/CS/ CLI/
mark d ~/Dropbox/ computer/
mark e ~/Dropbox/diary/ edit
mark g ~/Dropbox/greencard/
mark h ~/ mail/
mark i ~/rdlab/ inventory/
mark m ~/github/ MaGe/
mark n ~/rdlab/experiment/NICE/ log/
mark o ~/overleaf/ minutes/
mark p ~/github/physino/ cs/
mark r ~/rdlab/ tools
mark t ~/rdlab/teaching/ Mod.Exp.Phys

filetype *.sfs FUSE_MOUNT2|sshfs %PARAM %DESTINATION_DIR

filetype *.desktop gov %f &

"filetype *.tex vex %f
filetype *.tex,*.txt,*.c,*.C,*.cc,*.cpp,*.h,*.H,*.hh,*.hpp,*.md,*.markdown,*.bib,*rc,*.d,*.yml,*.css,*.R,*.gnu,*.sh,*.pl,*akefile vim %f

filetype *.fig xfig %f 2>/dev/null &

filetype *.heprep hv %f &
filetype *.prim dawn %f 2> /dev/null &

" root
filetype *.root root -l %f

" spread sheet
filetype *.sc sc %f

" Pdf
filetype *.pdf qpdfview --unique %f &, cygstart %f, xpdf %f 2>/dev/null &, open %f
fileview *.pdf pdftotext -nopgbrk %c -

" PostScript
filetype *.ps,*.ps.gz,*.eps gv %f &, display %f &

filetype *.dvi xdvi %f 2>/dev/null &

" Audio
filetype *.wav,*.mp3,*.flac,*.ogg,*.m4a cygstart %f, open %f
fileviewer *.mp3 mp3info

" Video
filetype *.avi,*.mp4,*.wmv,*.dat,*.3gp,*.ogv,*.mkv,*.mpg,*.vob,*.flv, cygstart %f, open %f
fileviewer *.avi,*.mp4,*.wmv,*.dat,*.3gp,*.ogv,*.mkv,*.mpg,*.vob ffprobe -pretty %c 2>&1

" Web
filetype *.html,*.htm w3m %f,lynx %f,cygstart %f, open %f

" Object
filetype *.o nm %f | less

" Image
filetype *.bmp,*.jpg,*.jpeg,*.png,*.gif,*.xpm, cygstart %f, open %f
fileviewer *.bmp,*.jpg,*.jpeg,*.png,*.gif,*.xpm convert -identify %f -verbose /dev/null

filetype *.zip,*.jar,*.war,*.ear
       \ {Mount with fuse-zip}
       \ FUSE_MOUNT|fuse-zip %SOURCE_FILE %DESTINATION_DIR,
       \ {View contents}
       \ zip -sf %c | less,
       \ tar -xf %c,
fileviewer *.zip,*.jar,*.war,*.ear zip -sf %c

filetype *.tar.bz2,*.tbz2,*.tgz,*.tar.gz
       \ {Mount with archivemount}
       \ FUSE_MOUNT|archivemount %SOURCE_FILE %DESTINATION_DIR,
fileviewer *.tgz,*.tar.gz tar -tzf %c
fileviewer *.tar.bz2,*.tbz2 tar -tjf %c

filetype *.rar
       \ {Mount with rar2fs}
       \ FUSE_MOUNT|rar2fs %SOURCE_FILE %DESTINATION_DIR,

filetype *.iso
       \ {Mount with fuseiso}
       \ FUSE_MOUNT|fuseiso %SOURCE_FILE %DESTINATION_DIR,

filetype *.ssh
       \ {Mount with sshfs}
       \ FUSE_MOUNT2|sshfs %PARAM %DESTINATION_DIR,

filetype *.ftp
       \ {Mount with curlftpfs}
       \ FUSE_MOUNT2|curlftpfs -o ftp_port=-,,disable_eprt %PARAM %DESTINATION_DIR,

filetype *.7z
       \ {Mount with fuse-7z}
       \ FUSE_MOUNT|fuse-7z %SOURCE_FILE %DESTINATION_DIR,

fileview *.docx, docx2txt.pl %f -

filextype *.pro qtcreator %f &

filetype */ cygstart %f,
        \ {View in thunar}
        \ Thunar %f &, open %f
fileview .*/,*/ tree %f

"filetype * cygstart %f, mimeopen %f &, open %f

" Open all other files with default system programs (you can also remove all
" :file[x]type commands above to ensure they don't interfere with system-wide
" settings).  By default all unknown files are opened with 'vi[x]cmd'
" uncommenting one of lines below will result in ignoring 'vi[x]cmd' option
" for unknown file types.
" For *nix:
" filetype * xdg-open
" For OS X:
" filetype * open
" For Windows:
" filetype * start, explorer

" Sample mappings
nmap s :shell<cr>
nmap S :sort<cr>
nmap w :view<cr>
nmap o :!gvim --remote-tab-silent %f<cr>
nmap O :!gvim %f<cr>

" Open file in the background using its default program
nmap gb :file &<cr>l

" Yank current directory path into the clipboard
nmap yd :!echo %d | xclip %i<cr>

" Yank current file path into the clipboard
nmap yf :!echo %c:p | xclip %i<cr>

" Mappings for faster renaming
nmap I cw<c-a>
nmap cc cw<c-u>
nmap A cw<c-w>

" Opening console in current directory
nmap ,t :!xterm &<cr>

" Opening vim to edit .vifmrc
nmap ,c :execute ':!vim $MYVIFMRC' | restart<cr>
" Opening gvim to edit .vifmrc
nmap ,C :!gvim --remote-tab-silent $MYVIFMRC &<cr>

" Toggle wrap setting on ,w key
nmap ,w :set wrap!<cr>

nmap q :quit!<cr>
